# ğŸ“˜ Payzme DeFi ì„œë¹„ìŠ¤ (Yearn Vaults ì—°ë™) ì„¤ê³„

## ğŸ¯ ëª©ì 

ì‚¬ìš©ìê°€ Payzme í”Œë«í¼ì„ í†µí•´ Yearn Vaultsì— ì˜ˆì¹˜(Deposit) ë° ì¸ì¶œ(Withdraw)í•˜ê³ , Vault ìˆ˜ìµì„ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆëŠ” DeFi ì„œë¹„ìŠ¤ ì œê³µ.

---

## ğŸ§± ê¸°ë³¸ êµ¬ì„±ìš”ì†Œ

| ìš”ì†Œ                | ì„¤ëª…                                                        |
|---------------------|-------------------------------------------------------------|
| Vault               | Yearnì—ì„œ ì œê³µí•˜ëŠ” ì´ìí˜• ìì‚° í’€                           |
| ì˜ˆì¹˜(Deposit)       | ì‚¬ìš©ìê°€ Vaultì— ìì‚°ì„ ì˜ˆì¹˜í•˜ëŠ” íŠ¸ëœì­ì…˜                   |
| ì¸ì¶œ(Withdraw)      | ì‚¬ìš©ìê°€ Vaultì—ì„œ ìì‚°ì„ ì¸ì¶œí•˜ëŠ” íŠ¸ëœì­ì…˜                 |
| ìˆ˜ìµ(Profit)        | Vault ì˜ˆì¹˜ ê¸°ê°„ ë™ì•ˆ ë°œìƒí•œ ì´ì ìˆ˜ìµ                        |
| Vault ì •ë³´          | ì—°ë™ëœ Yearn Vaultì˜ ìƒíƒœ, APY, ì˜ˆì¹˜ ê°€ëŠ¥ ìì‚° ë“±            |
| íŠ¸ëœì­ì…˜ ê¸°ë¡       | ì˜ˆì¹˜/ì¸ì¶œ/ìˆ˜ìµ ë‚´ì—­ì„ ê¸°ë¡í•˜ëŠ” DB í…Œì´ë¸”                     |

---

## âš™ï¸ ì„œë¹„ìŠ¤ íë¦„

1. ì‚¬ìš©ìê°€ Payzmeì—ì„œ Yearn Vault ëª©ë¡ ì¡°íšŒ
2. ì›í•˜ëŠ” Vault ì„ íƒ í›„ ì˜ˆì¹˜(Deposit) ë˜ëŠ” ì¸ì¶œ(Withdraw) ìš”ì²­
3. Web3 ì§€ê°‘(ì˜ˆ: Web3Auth)ìœ¼ë¡œ íŠ¸ëœì­ì…˜ ì„œëª… ë° ì‹¤í–‰
4. íŠ¸ëœì­ì…˜ ê²°ê³¼ ë° ìˆ˜ìµ ì •ë³´ ì‹¤ì‹œê°„ ì¡°íšŒ
5. ëª¨ë“  ë‚´ì—­ì€ `yearn_vaults`, `yearn_transactions` í…Œì´ë¸”ì— ê¸°ë¡

---

## ğŸ“ ìˆ˜ìµ ê³„ì‚° ê³µì‹ (Yearn ê¸°ì¤€)

```
ìˆ˜ìµ = (í˜„ì¬ Vault ì”ì•¡ - ì˜ˆì¹˜ ì›ê¸ˆ) Ã— (1 - ìˆ˜ìˆ˜ë£Œ)
```

| í•­ëª©         | ì„¤ëª…                                 |
|--------------|--------------------------------------|
| Vault ì”ì•¡   | ì‚¬ìš©ìê°€ í•´ë‹¹ Vaultì— ë³´ìœ í•œ ì´ ìì‚°   |
| ì˜ˆì¹˜ ì›ê¸ˆ    | ìµœì´ˆ ì˜ˆì¹˜ ì‹œì ì˜ ìì‚°                 |
| ìˆ˜ìˆ˜ë£Œ       | Yearn ë° Payzme í”Œë«í¼ ìˆ˜ìˆ˜ë£Œ (ì •ì±…)  |

---

## ğŸ›¡ï¸ ì œì•½ ë° ì •ì±…

- ì˜ˆì¹˜/ì¸ì¶œ ìµœì†Œ ë‹¨ìœ„ ë° ìµœëŒ€ í•œë„ëŠ” ì •ì±…ìœ¼ë¡œ ì œí•œ ê°€ëŠ¥
- ì§€ì› VaultëŠ” Payzmeì—ì„œ ì‚¬ì „ ì„ ì •
- íŠ¸ëœì­ì…˜ ìˆ˜ìˆ˜ë£Œ(ê°€ìŠ¤ë¹„)ëŠ” ì‚¬ìš©ì ë¶€ë‹´
- Vaultë³„ APY, ìœ„í—˜ë„ ë“± ì •ë³´ëŠ” ì‹¤ì‹œê°„ ì—°ë™

---

## ğŸ› ï¸ ë°±ì—”ë“œ ì²˜ë¦¬ ì˜ˆì‹œ (ì˜ì‚¬ì½”ë“œ)

```python
def deposit_to_vault(user, vault_id, amount):
    # Web3 ì—°ë™ìœ¼ë¡œ Yearn Vaultì— ì˜ˆì¹˜ íŠ¸ëœì­ì…˜ ì‹¤í–‰
    tx_hash = yearn_api.deposit(vault_id, user.wallet, amount)
    save_transaction(user.id, vault_id, amount, 'deposit', tx_hash)
    return tx_hash

def get_vault_profit(user, vault_id):
    principal = get_user_principal(user.id, vault_id)
    current_balance = yearn_api.get_balance(vault_id, user.wallet)
    fee = get_platform_fee(vault_id)
    profit = (current_balance - principal) * (1 - fee)
    return profit
```

---

## âœ… ì €ì¥ ìœ„ì¹˜ ë° íë¦„

- Vault ì •ë³´: `yearn_vaults` í…Œì´ë¸”
- ì˜ˆì¹˜/ì¸ì¶œ ë‚´ì—­: `yearn_transactions` í…Œì´ë¸”
- ìˆ˜ìµ ì •ë³´: ì‹¤ì‹œê°„ ê³„ì‚° ë˜ëŠ” ë³„ë„ ìºì‹± ì •ì±… ì ìš© ê°€ëŠ¥

---

## ğŸ§¾ ì°¸ê³ ì‚¬í•­

- Yearn Vaults ì—°ë™ì€ ê³µì‹ API ë° ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ í˜¸ì¶œ ê¸°ë°˜
- Vaultë³„ ì§€ì› ìì‚°, APY, ìœ„í—˜ë„ ë“±ì€ ì£¼ê¸°ì ìœ¼ë¡œ ë™ê¸°í™” í•„ìš”

--- 